{"data":[{"id":9997018,"readable":true,"title":"Bohemian Rhapsody","title_short":"Bohemian Rhapsody","title_version":"","link":"https:\/\/www.deezer.com\/track\/9997018","duration":354,"rank":992305,"explicit_lyrics":false,"explicit_content_lyrics":0,"explicit_content_cover":0,"preview":"https:\/\/cdns-preview-1.dzcdn.net\/stream\/c-17597947a0fdd6e8ea971f146755cd34-11.mp3",
"artist":{"id":412,"name":"Queen","link":"https:\/\/www.deezer.com\/artist\/412","picture":"https:\/\/api.deezer.com\/artist\/412\/image","picture_small":"https:\/\/e-cdns-images.dzcdn.net\/images\/artist\/0b17b99897d17ceb7027ed57cdbb7044\/56x56-000000-80-0-0.jpg","picture_medium":"https:\/\/e-cdns-images.dzcdn.net\/images\/artist\/0b17b99897d17ceb7027ed57cdbb7044\/250x250-000000-80-0-0.jpg",
"picture_big":"https:\/\/e-cdns-images.dzcdn.net\/images\/artist\/0b17b99897d17ceb7027ed57cdbb7044\/500x500-000000-80-0-0.jpg","picture_xl":"https:\/\/e-cdns-images.dzcdn.net\/images\/artist\/0b17b99897d17ceb7027ed57cdbb7044\/1000x1000-000000-80-0-0.jpg","tracklist":"https:\/\/api.deezer.com\/artist\/412\/top?limit=50","type":"artist"},"album":{"id":915785,"title":"A Night At The Opera (2011 Remaster)",



<p>preview: <audio controls id="preview"><source src="preview" type="audio/mpeg"></audio></span></p>





how to make whats in the list clickable?

how to clear forms

seach for ther artist 
click on the artist     ===== =when you do that the id is sent to another api endpoint 
the acurate artist ifo in displayed then click on album list select and see track list and play samples


  //song_name = music_search.data[i].title;
   //var song_name = document.getElementById("song_name").innerHTML = song_name + "<br>";
   

.box {
/*     margin: -1.5rem; */
    width: 12rem;
    height: 12rem;
    box-shadow: 0px 0px 2rem 0px #888888;
    background-color: white;
    display: flex;
    justify-content: center;
    align-items: center;
    position: relative;
    /* transition: 1s all; */
}

.bs-example {
	font-family: sans-serif;
    position: relative;
	margin: 100px;
}

// Constructing the suggestion engine
    var music_search = new Bloodhound({
        datumTokenizer: Bloodhound.tokenizers.whitespace,
        queryTokenizer: Bloodhound.tokenizers.whitespace,
        local: music_search
    });
    // Initializing the typeahead
    $('.typeahead').typeahead({
        hint: true,
        highlight: true, /* Enable substring highlighting */
        minLength: 1 /* Specify minimum characters required for showing result */
    },
        {
            name: 'music_search',
            source: music_search
        });


   artist_name = music_search.data[i].artist.name;
            album_name = music_search.data[i].album.title;
            picture = music_search.data[i].artist.picture_medium;
            artistid = music_search.data[i].artist.id;


            var artist_name = document.getElementById("artist_name").innerHTML = artist_name;
            var album_name = document.getElementById("album_name").innerHTML = album_name;
            var picture = document.getElementById("picture").src = picture;
            var artistid = document.getElementById("artistid").innerHTML = artistid;

            
function displayalbumdatainmypage(album_id_search) {

    // console.log(album_id_search);

    let albums_tracks = [];
    let tracks_preview = [];

    var total_tracks = album_id_search.nb_tracks;

    for (var i = 0; i < album_id_search.tracks.data.length; i++) {

        var album_track = album_id_search.tracks.data[i].title;
        var track_preview = album_id_search.tracks.data[i].preview;



        if (!albums_tracks.includes(album_track)) {
            albums_tracks.push(album_track);
        }
        if (!tracks_preview.includes(track_preview)) {
            tracks_preview.push(track_preview);
        }

    }
    for (var i = 0; i < album_track.length; i++) {
        var album_track_disp = album_track[i];
    }

    console.log(albums_tracks);


    document.getElementById("track_list").innerHTML = album_track_disp + "<br>";
    document.getElementById("preview_track").innerHTML = track_preview + "<br>";
    document.getElementById("track_total").innerHTML = total_tracks;
    // console.log(tracks_preview);

}


function album_id() {
    var input_id = document.getElementById("input_id").value;
    var api_request = new XMLHttpRequest();

    api_request.onreadystatechange = function () {
        if (this.readyState == 4 && this.status == 200) {
            var the_response = api_request.responseText;
            var album_id_search = JSON.parse(the_response);
            displayalbumdatainmypage(album_id_search);
        }
        else {
            console.log("this stuff is not working");
        }
    };
    api_request.open("GET", "https://deezerdevs-deezer.p.rapidapi.com/album/" + input_id);
    api_request.setRequestHeader("x-rapidapi-host", "deezerdevs-deezer.p.rapidapi.com");
    api_request.setRequestHeader("x-rapidapi-key", "ef9686a9b9msh4dbce73327763a8p14d988jsn38434b35145a");
    api_request.send();
}


 //   this_album_string = `<div><p>${albums[i].id}</p><br><p>${albums[i].title}</p><img src="${albums[i].cover}"></div>`;

 
$(document).ready(function () {

    var api_request = new XMLHttpRequest();
    api_request.onreadystatechange = function () {
        if (this.readyState == 4 && this.status == 200) {
            var the_response = api_request.responseText;
            var music_search = JSON.parse(the_response);
            displaydatainmyimagecaroucelpage(music_search);
        }
        else {
            console.log("this stuff is not working");
        }
    };

    var random_number = Math.floor(Math.random() * 100);           //random number generator for initial poulation of album art

    api_request.open("GET", "https://deezerdevs-deezer.p.rapidapi.com/search?q=" + random_number);
    api_request.setRequestHeader("x-rapidapi-host", "deezerdevs-deezer.p.rapidapi.com");
    api_request.setRequestHeader("x-rapidapi-key", "ef9686a9b9msh4dbce73327763a8p14d988jsn38434b35145a");
    api_request.send();

    function displaydatainmyimagecaroucelpage(music_search) {


        let albums = [];
        let albums_name = [];

        for (var i = 0; i < music_search.data.length; i++) {

            for (i = 0; i < music_search.data.length; i++) {

                var album = music_search.data[i].album;
                var album_name = music_search.data[i].album.title;

                if (!albums_name.includes(album_name)) {

                    albums_name.push(album_name);
                    albums.push(album);
                }
            }
        }

        //console.log("Array 'albums_names:'");
        //console.log(albums_name);
        //console.log("Array 'albums:'");
        console.log(albums);

        var album_list = document.getElementById("album_list");

        for (i = 0; i < albums.length; i++) {
            this_album_string = `<div><img src="${albums[i].cover_big}" class="card-img-top" alt="Album art"><div class="card-body"><p class="card-text">${albums[i].title}</p></div>`;
            album_list.innerHTML += this_album_string;
        }
    }
    
    var api_request = new XMLHttpRequest();

    api_request.onreadystatechange = function () {
        if (this.readyState == 4 && this.status == 200) {
            var the_response = api_request.responseText;
            var music_search_artist = JSON.parse(the_response);
            displaydatainmyartistpage(music_search_artist);
        }
        else {
            console.log("this stuff is not working");
        }
    };
    api_request.open("GET", "https://deezerdevs-deezer.p.rapidapi.com/artist/" + random_number);
    api_request.setRequestHeader("x-rapidapi-host", "deezerdevs-deezer.p.rapidapi.com");
    api_request.setRequestHeader("x-rapidapi-key", "ef9686a9b9msh4dbce73327763a8p14d988jsn38434b35145a");
    api_request.send();

    function displaydatainmyartistpage(music_search_artist) {

    artist_name_artistsearch = music_search_artist.name;
    picture_artistsearch = music_search_artist.picture_medium;
    number_of_albums = music_search_artist.nb_album;

    document.getElementById("artist_name_artistsearch").innerHTML = artist_name_artistsearch;
    document.getElementById("number_of_albums_artistsearch").innerHTML = number_of_albums;
    document.getElementById("picture_artistsearch").src = picture_artistsearch;
    console.log(music_search_artist + "did it work")
}
});